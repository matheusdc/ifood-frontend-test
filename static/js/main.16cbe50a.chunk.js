(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{194:function(e,t,a){e.exports=a.p+"static/media/spotifyLogo.31bad8d4.png"},196:function(e,t,a){e.exports=a(459)},201:function(e,t,a){},456:function(e,t,a){},457:function(e,t,a){},459:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(8),o=a.n(c),i=(a(201),a(56)),l=a(31),s=a(195),u=a(183),m=a(32),p="GET_PLAYLISTS_REQUEST",d="GET_PLAYLISTS_FAILURE",f="GET_PLAYLISTS_SUCCESS",E="SET_FILTERS",y={keyword:""},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_FILTERS":case E:return Object(m.a)({},e,n);default:return e}},h={loading:!0,error:!1,playlists:[]},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case p:return Object(m.a)({},e,{loading:!0,error:!1});case d:return Object(m.a)({},e,{error:!0,loading:!1,playlists:[]});case f:return Object(m.a)({},e,{loading:!1,error:!1,playlists:n.items});default:return e}},g=Object(l.combineReducers)({filters:v,playlists:b}),w=a(27),O=a.n(w),j=a(184),k=a(28),S=a(86),x=a.n(S),T=x.a.create({baseURL:"https://api.spotify.com"}),_=function(e){return T.get("/v1/browse/featured-playlists",{params:Object(m.a)({},{locale:"en_US",country:"US"},e)})};T.interceptors.request.use(function(e){var t=sessionStorage.getItem("token"),a={headers:{Authorization:"Bearer ".concat(t)}};return Object(m.a)({},e,a)});var I=a(48),L=function(){var e=navigator.language.replace("-","_"),t=e.split("_");return{locale:e,country:Object(I.a)(t,2)[1],timestamp:(new Date).toISOString(),offset:0,limit:9}},R=O.a.mark(U),A=O.a.mark(F),C=O.a.mark(G),N=O.a.mark(B);function U(){var e,t,a,n;return O.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(k.d)(function(e){return e.filters});case 3:if(e=r.sent,e.keyword,t=Object(j.a)(e,["keyword"]),Object.keys(t).length){r.next=10;break}return r.next=10,Object(k.c)({type:E,payload:L()});case 10:return r.next=12,Object(k.b)(_,t);case 12:return a=r.sent,n=a.data.playlists,r.next=16,Object(k.c)({type:f,payload:n});case 16:r.next=22;break;case 18:return r.prev=18,r.t0=r.catch(0),r.next=22,Object(k.c)({type:d});case 22:case"end":return r.stop()}},R,null,[[0,18]])}function F(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.e)(p,U);case 2:case"end":return e.stop()}},A)}function G(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.e)(E,U);case 2:case"end":return e.stop()}},C)}function B(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)([F(),G()]);case 2:case"end":return e.stop()}},N)}var z=Object(s.a)(),P=Object(l.createStore)(g,Object(u.composeWithDevTools)(Object(l.applyMiddleware)(z)));z.run(B);var q=P,D=a(185),M=a.n(D),W=a(193),Y=a.n(W),J=(a(227),a(37)),Q=a.n(J),$=(a(69),a(47)),H=a.n($),K=(a(70),a(188)),V=a.n(K),X=(a(235),a(87)),Z=a.n(X),ee=(a(131),a(121)),te=a.n(ee),ae=(a(238),te.a.Meta),ne=function(e){var t=e.name,a=e.image,n=e.tracks,c=e.link;return r.a.createElement("a",{href:c},r.a.createElement(te.a,{hoverable:!0,style:{marginTop:24},cover:r.a.createElement("img",{alt:t,src:a})},r.a.createElement(ae,{title:t,description:"".concat(n," m\xfasicas")})))},re=function(e,t){return q.dispatch({type:e,payload:t})},ce=function(e){return re(E,e)},oe=Object(i.b)(function(e){var t=e.playlists,a=e.filters;return{playlists:t.playlists,error:t.error,loading:t.loading,keyword:a.keyword}})(function(e){var t=e.playlists,a=e.keyword,c=e.loading,o=e.error;Object(n.useEffect)(function(){var e;re(p,e)},[]);return r.a.createElement(Z.a,{tip:"Carregando...",spinning:c,style:{height:150}},o&&r.a.createElement(V.a,{style:{marginTop:48},message:"Ops... Algo deu errado",description:"Estamos enfrentando problemas t\xe9cnicos, por favor tente novamente mais tarde.",type:"error",showIcon:!0}),r.a.createElement(H.a,{gutter:24},t.filter(function(e){return e.name.toLocaleLowerCase().includes(a)}).map(function(e){var t=e.id,a=e.name,n=e.images,c=e.tracks,o=e.external_urls;return r.a.createElement(Q.a,{key:t,xs:24,xl:8},r.a.createElement(ne,{id:t,name:a,image:n[0].url,tracks:c.total,link:o.spotify}))})))}),ie=a(192),le=a.n(ie),se=(a(91),a(123)),ue=a.n(se),me=(a(316),a(88)),pe=a.n(me),de=(a(154),x.a.create({baseURL:"https://www.mocky.io/v2/5a25fade2e0000213aa90776"})),fe=a(85),Ee=a(15),ye=a.n(Ee),ve=a(122),he=a.n(ve),be=(a(320),a(190)),ge=a.n(be),we=(a(324),a(191)),Oe=a.n(we),je=(a(326),he.a.Option),ke=pe.a.Item,Se=Object(i.b)(function(e){return{filters:e.filters}})(function(e){var t=e.filters,a=e.filterFields,n=function(e,t){ce(Object(fe.a)({},e,t))};return r.a.createElement(H.a,{gutter:8},a.map(function(e){return Object.keys(e).includes("values")?function(e){var a=e.id,c=e.name,o=e.values;return r.a.createElement(Q.a,{sm:24,xl:6,key:a},r.a.createElement(ke,{label:c},r.a.createElement(he.a,{id:a,onChange:function(e){return n(a,e)},value:t[a],style:{width:"100%"},placeholder:c},o.map(function(e){var t=e.name,a=e.value;return r.a.createElement(je,{key:t,value:a},t)}))))}(e):"STRING"===e.validation.primitiveType&&"DATE_TIME"===e.validation.entityType?function(e){var a=e.id,c=e.name;return r.a.createElement(Q.a,{sm:24,xl:6,key:a},r.a.createElement(ke,{label:c},r.a.createElement(Oe.a,{id:a,showTime:!0,onChange:function(e){return n(a,e.toISOString())},value:ye()(t[a]),placeholder:c,style:{width:"100%"}})))}(e):"INTEGER"===e.validation.primitiveType?function(e){var a=e.id,c=e.name,o=e.validation,i=o.min,l=o.max;return r.a.createElement(Q.a,{sm:24,xl:6,key:a},r.a.createElement(ke,{label:c},r.a.createElement(ge.a,{id:a,value:t[a],min:i,max:l,onChange:function(e){return n(a,e)},placeholder:c,style:{width:"100%"}})))}(e):null}))}),xe=le.a.Search,Te=pe.a.Item,_e=ue.a.Panel,Ie=function(){var e=Object(n.useState)([]),t=Object(I.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!0),i=Object(I.a)(o,2),l=i[0],s=i[1];return Object(n.useEffect)(function(){de.get("/").then(function(e){var t=e.data.filters;s(!1),c(t)})},[]),r.a.createElement("div",null,r.a.createElement(Te,{label:"Buscar playlists"},r.a.createElement(xe,{id:"search",size:"large",placeholder:"Busque suas playlists aqui!",onChange:function(e){return ce({keyword:e.target.value})}})),r.a.createElement(Z.a,{spinning:l,style:{height:50}},r.a.createElement(ue.a,{bordered:!1},r.a.createElement(_e,{header:"Filtros Avan\xe7ados"},r.a.createElement(Se,{filterFields:a})))))},Le=Y.a.Title,Re=function(){return r.a.createElement(H.a,{type:"flex",justify:"center"},r.a.createElement(Q.a,{xs:22,xl:18},r.a.createElement(Le,{style:{marginTop:48,fontSize:"3.7rem"}},"Spotifood"),r.a.createElement("div",null,r.a.createElement(Ie,null),r.a.createElement(oe,null))))},Ae=a(194),Ce=a.n(Ae),Ne=(a(456),function(){return r.a.createElement("a",{tabstop:"1",className:"spotify-login",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("30f524272efe4440b483b7ddfe124373","&redirect_uri=").concat("https://matheusdc.github.io/ifood-frontend-test","&response_type=token&show_dialog=true")},r.a.createElement("span",{"aria-label":"Entre com Spotify"},"Entre com "),r.a.createElement("img",{className:"spotify-login__logo",src:Ce.a,alt:"Spotify Logo"}))}),Ue=(a(457),function(){return r.a.createElement("section",{className:"login-container"},r.a.createElement("header",{className:"login-container__title"},"Spotifood"),r.a.createElement("p",{className:"login-container__description"},"Encontre as melhores playlists para aproveitar sua refei\xe7\xe3o!"),r.a.createElement(Ne,null))}),Fe=function(){var e=Object(n.useState)(null),t=Object(I.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)(function(){c(function(){var e=M.a.parse(window.location.hash.substr(1)).access_token||null;return sessionStorage.setItem("token",e),window.location.hash="",e}())},[]);return r.a.createElement("div",null,null!==a?r.a.createElement(Re,null):r.a.createElement(Ue,null))},Ge=function(){return r.a.createElement(i.a,{store:q},r.a.createElement(Fe,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[196,1,2]]]);
//# sourceMappingURL=main.16cbe50a.chunk.js.map